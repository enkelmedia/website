---
import Layout from '../../layouts/Layout.astro';
import NavBar from '../../components/NavBar';
import Container from '../../components/Container';
import Footer from '../../components/Footer.astro';
import { getCollection } from 'astro:content';
import { sortPostDates } from '../../content/config';
import BlogList from '../../components/BlogList.astro';

const posts = (await getCollection('blog')).sort(
	(a, b) => sortPostDates(a, b)
);

const currentPath = Astro.url.pathname;
---

<Layout title='Blog | Tembo'>
    <NavBar client:load currentPage={currentPath} />
    <BlogList posts={posts} />
    <Container>
        <Footer />
    </Container>
</Layout>
